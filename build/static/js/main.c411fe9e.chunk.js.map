{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["SinglePerson","props","person","name","number","onClick","deletePerson","id","Persons","newPersons","persons","map","deleteHandler","Filter","text","value","onChange","filterHandler","PersonForm","nameHandler","numberHandler","type","addHandler","baseUrl","exportObj","getAll","axios","get","then","response","data","add","newPerson","post","deletePer","delete","replace","updatedObject","put","Notification","message","error","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","noti","setNoti","setError","useEffect","console","log","personService","initialPersons","length","namesToShow","filter","match","RegExp","event","target","preventDefault","window","alert","nameFound","find","confirm","setTimeout","catch","status","newPersonObject","concat","deletedName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c411fe9e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n//SinglePerson component\r\nconst SinglePerson = (props) => {\r\n    return(\r\n        <div>\r\n            {props.person.name} {props.person.number}\r\n            <button onClick={() => props.deletePerson(props.person.id)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\n//Persons component\r\nconst Persons = (props) => {   \r\n    const newPersons =  [...props.persons]\r\n    return(\r\n        <div>\r\n            {newPersons.map(person => <SinglePerson key={person.id} person={person} deletePerson ={props.deleteHandler}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;\r\n\r\n","import React from 'react';\r\n\r\n//Filter component\r\nconst Filter = (props) => {\r\n    return(\r\n      <div>\r\n        {props.text}<input value={props.value} onChange={props.filterHandler} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter;\r\n\r\n","import React from 'react';\r\n\r\n//PersonForm component\r\nconst PersonForm = (props) => {\r\n    return (\r\n      <form>\r\n        <div>\r\n          name: <input value={props.name} onChange={props.nameHandler}/>\r\n        </div>\r\n        <div>\r\n          number: <input  value={props.number} onChange={props.numberHandler} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={props.addHandler}>add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePer = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst replace = ( updatedObject, id ) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exportObj = { getAll, add, deletePer, replace }\r\n\r\nexport default exportObj","import React from 'react'\r\n\r\nconst Notification = ({message, error}) => {\r\n    if(message === null)\r\n    {\r\n        return null\r\n    }\r\n    else if(error === false)\r\n    {\r\n        return (\r\n            <div className = 'notification'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else\r\n    {\r\n        return (\r\n            <div className = 'error'>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\n//main App component\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ noti, setNoti ] = useState(null)\n  const [ error, setError ] = useState(false)\n\n  //effect-hook function reference\n  const hook = () => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  //effect-hook\n  useEffect(hook, [])\n\n  console.log('render', persons.length, 'persons')\n\n  //to store filtered names by search field\n  const namesToShow = search.length === 0\n  ? persons : persons.filter(person => person.name.match(new RegExp(search, \"i\")))\n\n\n  //to store new name in input element\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  //to store new number in input element\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  //to store search name in input element\n  const handleSearchName = (event) => {\n    setSearch(event.target.value)\n  }\n\n  //to add new name in persons\n  const addName = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if(newPerson.name === '' || newPerson.number === '')\n    {\n      window.alert(\"Please enter name and number to add to phonebook!\")\n    }\n    else\n    {\n      const nameFound = persons.find(person => person.name === newPerson.name)\n      if(nameFound)\n      {\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\n        {\n          personService\n            .replace(newPerson ,nameFound.id)\n            .then(updatedObject => {\n              setPersons(persons.map(person => person.id !== nameFound.id ? person : updatedObject))\n              setNewName('')\n              setNewNumber('')\n              setNoti(`Updated ${newPerson.name}'s Number`)\n              setTimeout(() => {\n                setNoti(null)\n              }, 5000)\n            })\n            .catch(error => {\n              if(error.response.status === 400)\n              {\n                setError(true)\n                setNoti(error.response.data.error)\n                setTimeout(() => {\n                  setError(false)\n                  setNoti(null)\n                }, 5000)\n              }\n              else if(error.response.status === 404)\n              {\n                setError(true)\n                setNoti(`Information of ${newPerson.name} has already been removed from server`)\n                setTimeout(() => {\n                  setError(false)\n                  setNoti(null)\n                }, 5000)\n                setPersons(persons.filter(person => person.id !== nameFound.id))\n                setNewName('')\n                setNewNumber('')  \n                }\n            }\n            )\n        }\n      }\n      else\n      {\n        personService\n          .add(newPerson)\n          .then(newPersonObject => {\n            setPersons(persons.concat(newPersonObject))\n            setNewName('')\n            setNewNumber('')\n            setNoti(`Added ${newPerson.name}`)\n              setTimeout(() => {\n                setNoti(null)\n              }, 5000)\n          })\n          .catch(error => {\n            setError(true)\n            setNoti(error.response.data.error)\n            setTimeout(() => {\n              setError(false)\n              setNoti(null)\n            }, 5000)\n            console.log(error.response.data)\n          })\n      }  \n    }\n    \n  }\n\n  const deletePerson = id => {\n    const deletedName = persons.find(person => person.id === id)\n    if(window.confirm(`Delete ${deletedName.name} ?`))\n    {\n      personService.deletePer(id)\n      .then(\n        setPersons(persons.filter(person => person.id !== id))\n      )\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={noti} error={error}/>\n      <Filter text='filter shown with' value={search} filterHandler={handleSearchName}/>\n      <h3>add a new</h3>\n      <PersonForm \n        name={newName} nameHandler={handleNewName}\n        number={newNumber} numberHandler={handleNewNumber}\n        addHandler={addName}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={namesToShow} deleteHandler= {deletePerson}/>\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}